{"code":"(this[\"webpackJsonpwalkie-talkie-frontend\"]=this[\"webpackJsonpwalkie-talkie-frontend\"]||[]).push([[0],{33:function(t,e,n){},34:function(t,e,n){},76:function(t,e,n){\"use strict\";n.r(e);var i=n(8),c=n.n(i),s=n(24),a=n.n(s),o=(n(33),n(25)),u=n(26),d=n(6),r=n(28),h=n(27),l=(n(34),n(2)),f=n(36).Device,p=function(t){Object(r.a)(n,t);var e=Object(h.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).state={identity:\"\",status:\"\",ready:!1},i.onChangeUpdateState=i.onChangeUpdateState.bind(Object(d.a)(i)),i.setup=i.setup.bind(Object(d.a)(i)),i.connect=i.connect.bind(Object(d.a)(i)),i.disconnect=i.disconnect.bind(Object(d.a)(i)),i}return Object(u.a)(n,[{key:\"componentDidMount\",value:function(){var t=this,e=new f;this.setState({device:e}),e.on(\"incoming\",(function(e){e.accept(),t.setState({status:e.status()})})),e.on(\"ready\",(function(e){t.setState({status:\"device ready\",ready:!0})})),e.on(\"connect\",(function(e){t.setState({status:e.status()})})),e.on(\"disconnect\",(function(e){t.setState({status:e.status()})}))}},{key:\"connect\",value:function(){var t=\"friend1\"===this.state.identity?\"friend2\":\"friend1\";this.state.device.connect({recipient:t})}},{key:\"disconnect\",value:function(){this.state.device.disconnectAll()}},{key:\"setup\",value:function(t){var e=this;t.preventDefault(),fetch(\"https://walkie-talkie-service-5481-dev.twil.io/token?identity=\".concat(this.state.identity)).then((function(t){return t.json()})).then((function(t){e.state.device.setup(t.accessToken),e.state.device.audio.incoming(!1),e.state.device.audio.outgoing(!1),e.state.device.audio.disconnect(!1)})).catch((function(t){return console.log(t)}))}},{key:\"onChangeUpdateState\",value:function(t){this.setState({identity:t.target.value})}},{key:\"render\",value:function(){return Object(l.jsxs)(\"div\",{className:\"App\",children:[this.state.ready?Object(l.jsx)(\"button\",{onMouseDown:this.connect,onMouseUp:this.disconnect,children:\"Press to Talk\"}):Object(l.jsxs)(\"div\",{children:[Object(l.jsx)(\"p\",{children:\"Enter your name to begin.\"}),Object(l.jsxs)(\"form\",{onSubmit:this.setup,children:[Object(l.jsx)(\"input\",{value:this.state.identity,onChange:this.onChangeUpdateState,type:\"text\",placeholder:\"What's your name?\"}),Object(l.jsx)(\"input\",{type:\"submit\",value:\"Begin Session\"})]})]}),\" //fake note\",Object(l.jsx)(\"p\",{children:this.state.status})]})}}]),n}(i.Component),v=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(e){var n=e.getCLS,i=e.getFID,c=e.getFCP,s=e.getLCP,a=e.getTTFB;n(t),i(t),c(t),s(t),a(t)}))};a.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById(\"root\")),v()}},[[76,1,2]]]);","name":"static/js/main.09720ab2.chunk.js","map":{"version":3,"sources":["static/js/main.09720ab2.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","jsx_runtime","Device","src_App_0","_Component","Object","App","_super","props","_this","call","state","identity","status","ready","onChangeUpdateState","bind","setup","connect","disconnect","key","value","_this2","device","setState","on","connection","accept","recipient","disconnectAll","event","_this3","preventDefault","fetch","concat","then","response","json","data","accessToken","audio","incoming","outgoing","catch","err","console","log","target","className","children","onMouseDown","onMouseUp","onSubmit","onChange","type","placeholder","src_reportWebVitals","onPerfEntry","Function","e","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","a","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpwalkie-talkie-frontend\"] = this[\"webpackJsonpwalkie-talkie-frontend\"] || []).push([[0],{\n\n/***/ 33:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 76:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(8);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(24);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(33);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 4 modules\nvar createSuper = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(34);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/App.js\nvar _require=__webpack_require__(36),Device=_require.Device;var App_App=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(App,_Component);var _super=Object(createSuper[\"a\" /* default */])(App);function App(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,App);_this=_super.call(this,props);_this.state={identity:'',status:'',ready:false};_this.onChangeUpdateState=_this.onChangeUpdateState.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.setup=_this.setup.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.connect=_this.connect.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.disconnect=_this.disconnect.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));return _this;}Object(createClass[\"a\" /* default */])(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var device=new Device();this.setState({device:device});device.on('incoming',function(connection){// immediately accepts incoming connection\nconnection.accept();_this2.setState({status:connection.status()});});device.on('ready',function(device){_this2.setState({status:\"device ready\",ready:true});});device.on('connect',function(connection){_this2.setState({status:connection.status()});});device.on('disconnect',function(connection){_this2.setState({status:connection.status()});});}// This method sets the identity of the Twilio Device\n// that your device is going to connect to. This\n// example uses hardcoded values so that only devices\n// with the identities friend1 and friend2 can connect.\n// In a production application, this would have to be\n// handled in a much different way. Most likely, the\n// app would have users who are authenticated with a\n// username and password. Their unique username would\n// serve as their device’s identity and they would only\n// be able to connect to device’s owned by users in their\n// friend list.\n},{key:\"connect\",value:function connect(){var recipient=this.state.identity==='friend1'?'friend2':'friend1';this.state.device.connect({recipient:recipient});}},{key:\"disconnect\",value:function disconnect(){this.state.device.disconnectAll();}},{key:\"setup\",value:function setup(event){var _this3=this;// prevents form submission and page refresh\nevent.preventDefault();fetch(\"https://walkie-talkie-service-5481-dev.twil.io/token?identity=\".concat(this.state.identity)).then(function(response){return response.json();}).then(function(data){_this3.state.device.setup(data.accessToken);_this3.state.device.audio.incoming(false);_this3.state.device.audio.outgoing(false);_this3.state.device.audio.disconnect(false);}).catch(function(err){return console.log(err);});}},{key:\"onChangeUpdateState\",value:function onChangeUpdateState(event){this.setState({identity:event.target.value});}},{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[this.state.ready?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onMouseDown:this.connect,onMouseUp:this.disconnect,children:\"Press to Talk\"}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Enter your name to begin.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:this.setup,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:this.state.identity,onChange:this.onChangeUpdateState,type:\"text\",placeholder:\"What's your name?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"submit\",value:\"Begin Session\"})]})]}),\" //fake note\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:this.state.status})]});}}]);return App;}(react[\"Component\"]);/* harmony default export */ var src_App_0 = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 77)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[76,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/jn/code/walkie-talkie/walkie-talkie-frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/jn/code/walkie-talkie/walkie-talkie-frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/jn/code/walkie-talkie/walkie-talkie-frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/jn/code/walkie-talkie/walkie-talkie-frontend/src/index.css","/Users/jn/code/walkie-talkie/walkie-talkie-frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/jn/code/walkie-talkie/walkie-talkie-frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/jn/code/walkie-talkie/walkie-talkie-frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/jn/code/walkie-talkie/walkie-talkie-frontend/src/App.css","/Users/jn/code/walkie-talkie/walkie-talkie-frontend/src/App.js","/Users/jn/code/walkie-talkie/walkie-talkie-frontend/src/reportWebVitals.js","/Users/jn/code/walkie-talkie/walkie-talkie-frontend/src/index.js"],"names":["require","Device","App","props","state","identity","status","ready","onChangeUpdateState","bind","setup","connect","disconnect","device","setState","on","connection","accept","recipient","disconnectAll","event","preventDefault","fetch","then","response","json","data","accessToken","audio","incoming","outgoing","catch","err","console","log","target","value","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","      import React, {Component} from 'react';\n      import './App.css';\n\n      const { Device } = require('twilio-client');\n\n      class App extends Component {\n        constructor(props) {\n          super(props)\n\n          this.state={\n            identity: '',\n            status: '',\n            ready: false\n          }\n\n          this.onChangeUpdateState = this.onChangeUpdateState.bind(this);\n          this.setup = this.setup.bind(this);\n          this.connect = this.connect.bind(this);\n          this.disconnect = this.disconnect.bind(this);\n        }\n\n        componentDidMount() {\n          const device = new Device();\n\n          this.setState({\n            device: device\n          });\n\n          device.on('incoming', connection => {\n        // immediately accepts incoming connection\n        connection.accept();\n\n            this.setState({\n              status: connection.status()\n            });\n          });\n\n          device.on('ready', device => {\n            this.setState({\n              status: \"device ready\",\n              ready: true\n            });\n          });\n\n          device.on('connect', connection => {\n            this.setState({\n              status: connection.status()\n            });\n          });\n\n          device.on('disconnect', connection => {\n            this.setState({\n              status: connection.status()\n            });\n          });\n        }\n\n        // This method sets the identity of the Twilio Device\n        // that your device is going to connect to. This\n        // example uses hardcoded values so that only devices\n        // with the identities friend1 and friend2 can connect.\n        // In a production application, this would have to be\n        // handled in a much different way. Most likely, the\n        // app would have users who are authenticated with a\n        // username and password. Their unique username would\n        // serve as their device’s identity and they would only\n        // be able to connect to device’s owned by users in their\n        // friend list.\n\n        connect() {\n          const recipient = this.state.identity === 'friend1' ? 'friend2' : 'friend1';\n          this.state.device.connect({recipient: recipient});\n        }\n\n        disconnect() {\n          this.state.device.disconnectAll();\n        }\n\n        setup(event) {\n        // prevents form submission and page refresh\n        event.preventDefault();\n\n        fetch(`https://walkie-talkie-service-5481-dev.twil.io/token?identity=${this.state.identity}`)\n          .then(response => response.json())\n          .then(data => {\n            this.state.device.setup(data.accessToken);\n            this.state.device.audio.incoming(false);\n            this.state.device.audio.outgoing(false);\n            this.state.device.audio.disconnect(false);\n          })\n          .catch(err => console.log(err))\n        }\n\n        onChangeUpdateState(event) {\n          this.setState({\n            identity: event.target.value\n          });\n        }\n\n        render() {\n          return (\n            <div className=\"App\">\n              {\n                this.state.ready\n                ? <button onMouseDown={this.connect}\n                          onMouseUp={this.disconnect}>\n                    Press to Talk\n                  </button>\n                : <div>\n                    <p>Enter your name to begin.</p>\n                    <form onSubmit={this.setup}>\n                      <input\n                        value={this.state.identity}\n                        onChange={this.onChangeUpdateState}\n                        type=\"text\"\n                        placeholder=\"What's your name?\"></input>\n                      <input type=\"submit\" value=\"Begin Session\"></input>\n                    </form>\n                  </div>\n              } //fake note\n              <p>{ this.state.status }</p>\n            </div>\n          );\n        }\n\n\n      }\n\n      export default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}