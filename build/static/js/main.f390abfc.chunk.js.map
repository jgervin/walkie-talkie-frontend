{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["Device","require","App","props","state","identity","status","ready","onChangeUpdateState","bind","setup","connect","disconnect","device","this","setState","on","connection","accept","recipient","disconnectAll","event","preventDefault","fetch","then","response","json","data","accessToken","audio","incoming","outgoing","catch","err","console","log","target","value","className","onMouseDown","onMouseUp","onSubmit","onChange","type","placeholder","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2RAGcA,EAAWC,EAAQ,IAAnBD,OA6HOE,E,kDA1Hb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAEDC,MAAM,CACTC,SAAU,GACVC,OAAQ,GACRC,OAAO,GAGT,EAAKC,oBAAsB,EAAKA,oBAAoBC,KAAzB,gBAC3B,EAAKC,MAAQ,EAAKA,MAAMD,KAAX,gBACb,EAAKE,QAAU,EAAKA,QAAQF,KAAb,gBACf,EAAKG,WAAa,EAAKA,WAAWH,KAAhB,gBAZD,E,qDAenB,WAAqB,IAAD,OACZI,EAAS,IAAIb,EAEnBc,KAAKC,SAAS,CACZF,OAAQA,IAGVA,EAAOG,GAAG,YAAY,SAAAC,GAExBA,EAAWC,SAEP,EAAKH,SAAS,CACZT,OAAQW,EAAWX,cAIvBO,EAAOG,GAAG,SAAS,SAAAH,GACjB,EAAKE,SAAS,CACZT,OAAQ,eACRC,OAAO,OAIXM,EAAOG,GAAG,WAAW,SAAAC,GACnB,EAAKF,SAAS,CACZT,OAAQW,EAAWX,cAIvBO,EAAOG,GAAG,cAAc,SAAAC,GACtB,EAAKF,SAAS,CACZT,OAAQW,EAAWX,gB,qBAiBzB,WACE,IAAMa,EAAoC,YAAxBL,KAAKV,MAAMC,SAAyB,UAAY,UAClES,KAAKV,MAAMS,OAAOF,QAAQ,CAACQ,UAAWA,M,wBAGxC,WACEL,KAAKV,MAAMS,OAAOO,kB,mBAGpB,SAAMC,GAAQ,IAAD,OAEbA,EAAMC,iBAENC,MAAM,iEAAD,OAAkET,KAAKV,MAAMC,WAC/EmB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJ,EAAKvB,MAAMS,OAAOH,MAAMiB,EAAKC,aAC7B,EAAKxB,MAAMS,OAAOgB,MAAMC,UAAS,GACjC,EAAK1B,MAAMS,OAAOgB,MAAME,UAAS,GACjC,EAAK3B,MAAMS,OAAOgB,MAAMjB,YAAW,MAEpCoB,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,Q,iCAG5B,SAAoBZ,GAClBP,KAAKC,SAAS,CACZV,SAAUgB,EAAMe,OAAOC,U,oBAI3B,WACE,OACE,sBAAKC,UAAU,MAAf,UAEIxB,KAAKV,MAAMG,MACT,wBAAQgC,YAAazB,KAAKH,QAClB6B,UAAW1B,KAAKF,WADxB,2BAIA,gCACE,0DACA,uBAAM6B,SAAU3B,KAAKJ,MAArB,UACE,uBACE2B,MAAOvB,KAAKV,MAAMC,SAClBqC,SAAU5B,KAAKN,oBACfmC,KAAK,OACLC,YAAY,sBACd,uBAAOD,KAAK,SAASN,MAAM,wBAInC,4BAAKvB,KAAKV,MAAME,gB,GAnHNuC,aCOTC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBxB,MAAK,YAAkD,IAA/CyB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.f390abfc.chunk.js","sourcesContent":["      import React, {Component} from 'react';\n      import './App.css';\n\n      const { Device } = require('twilio-client');\n\n      class App extends Component {\n        constructor(props) {\n          super(props)\n\n          this.state={\n            identity: '',\n            status: '',\n            ready: false\n          }\n\n          this.onChangeUpdateState = this.onChangeUpdateState.bind(this);\n          this.setup = this.setup.bind(this);\n          this.connect = this.connect.bind(this);\n          this.disconnect = this.disconnect.bind(this);\n        }\n\n        componentDidMount() {\n          const device = new Device();\n\n          this.setState({\n            device: device\n          });\n\n          device.on('incoming', connection => {\n        // immediately accepts incoming connection\n        connection.accept();\n\n            this.setState({\n              status: connection.status()\n            });\n          });\n\n          device.on('ready', device => {\n            this.setState({\n              status: \"device ready\",\n              ready: true\n            });\n          });\n\n          device.on('connect', connection => {\n            this.setState({\n              status: connection.status()\n            });\n          });\n\n          device.on('disconnect', connection => {\n            this.setState({\n              status: connection.status()\n            });\n          });\n        }\n\n        // This method sets the identity of the Twilio Device\n        // that your device is going to connect to. This\n        // example uses hardcoded values so that only devices\n        // with the identities friend1 and friend2 can connect.\n        // In a production application, this would have to be\n        // handled in a much different way. Most likely, the\n        // app would have users who are authenticated with a\n        // username and password. Their unique username would\n        // serve as their device’s identity and they would only\n        // be able to connect to device’s owned by users in their\n        // friend list.\n\n        connect() {\n          const recipient = this.state.identity === 'friend1' ? 'friend2' : 'friend1';\n          this.state.device.connect({recipient: recipient});\n        }\n\n        disconnect() {\n          this.state.device.disconnectAll();\n        }\n\n        setup(event) {\n        // prevents form submission and page refresh\n        event.preventDefault();\n\n        fetch(`https://walkie-talkie-service-5481-dev.twil.io/token?identity=${this.state.identity}`)\n          .then(response => response.json())\n          .then(data => {\n            this.state.device.setup(data.accessToken);\n            this.state.device.audio.incoming(false);\n            this.state.device.audio.outgoing(false);\n            this.state.device.audio.disconnect(false);\n          })\n          .catch(err => console.log(err))\n        }\n\n        onChangeUpdateState(event) {\n          this.setState({\n            identity: event.target.value\n          });\n        }\n\n        render() {\n          return (\n            <div className=\"App\">\n              {\n                this.state.ready\n                ? <button onMouseDown={this.connect}\n                          onMouseUp={this.disconnect}>\n                    Press to Talk\n                  </button>\n                : <div>\n                    <p>Enter your name to begin.</p>\n                    <form onSubmit={this.setup}>\n                      <input\n                        value={this.state.identity}\n                        onChange={this.onChangeUpdateState}\n                        type=\"text\"\n                        placeholder=\"What's your name?\"></input>\n                      <input type=\"submit\" value=\"Begin Session\"></input>\n                    </form>\n                  </div>\n              } \n              <p>{ this.state.status }</p>\n            </div>\n          );\n        }\n\n\n      }\n\n      export default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}