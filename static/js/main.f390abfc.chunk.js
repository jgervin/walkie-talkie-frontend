(this["webpackJsonpwalkie-talkie-frontend"]=this["webpackJsonpwalkie-talkie-frontend"]||[]).push([[0],{33:function(t,e,n){},34:function(t,e,n){},76:function(t,e,n){"use strict";n.r(e);var i=n(8),c=n.n(i),s=n(24),a=n.n(s),o=(n(33),n(25)),u=n(26),d=n(6),r=n(28),h=n(27),l=(n(34),n(2)),p=n(36).Device,v=function(t){Object(r.a)(n,t);var e=Object(h.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).state={identity:"",status:"",ready:!1},i.onChangeUpdateState=i.onChangeUpdateState.bind(Object(d.a)(i)),i.setup=i.setup.bind(Object(d.a)(i)),i.connect=i.connect.bind(Object(d.a)(i)),i.disconnect=i.disconnect.bind(Object(d.a)(i)),i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=new p;this.setState({device:e}),e.on("incoming",(function(e){e.accept(),t.setState({status:e.status()})})),e.on("ready",(function(e){t.setState({status:"device ready",ready:!0})})),e.on("connect",(function(e){t.setState({status:e.status()})})),e.on("disconnect",(function(e){t.setState({status:e.status()})}))}},{key:"connect",value:function(){var t="friend1"===this.state.identity?"friend2":"friend1";this.state.device.connect({recipient:t})}},{key:"disconnect",value:function(){this.state.device.disconnectAll()}},{key:"setup",value:function(t){var e=this;t.preventDefault(),fetch("https://walkie-talkie-service-5481-dev.twil.io/token?identity=".concat(this.state.identity)).then((function(t){return t.json()})).then((function(t){e.state.device.setup(t.accessToken),e.state.device.audio.incoming(!1),e.state.device.audio.outgoing(!1),e.state.device.audio.disconnect(!1)})).catch((function(t){return console.log(t)}))}},{key:"onChangeUpdateState",value:function(t){this.setState({identity:t.target.value})}},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"App",children:[this.state.ready?Object(l.jsx)("button",{onMouseDown:this.connect,onMouseUp:this.disconnect,children:"Press to Talk"}):Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:"Enter your name to begin."}),Object(l.jsxs)("form",{onSubmit:this.setup,children:[Object(l.jsx)("input",{value:this.state.identity,onChange:this.onChangeUpdateState,type:"text",placeholder:"What's your name?"}),Object(l.jsx)("input",{type:"submit",value:"Begin Session"})]})]}),Object(l.jsx)("p",{children:this.state.status})]})}}]),n}(i.Component),b=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(e){var n=e.getCLS,i=e.getFID,c=e.getFCP,s=e.getLCP,a=e.getTTFB;n(t),i(t),c(t),s(t),a(t)}))};a.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root")),b()}},[[76,1,2]]]);
//# sourceMappingURL=main.f390abfc.chunk.js.map